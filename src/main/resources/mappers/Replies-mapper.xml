<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Replies">

    <insert id="insertReply">
        INSERT INTO Replies (reply_id, review_id, store_seq, user_id, reply_text, created_at)
        VALUES (#{replyId}, #{reviewId}, #{storeSeq}, #{userId}, #{replyText}, CURRENT_TIMESTAMP)
    </insert>

   <!-- 리뷰 ID로 댓글 목록 조회 -->
    <select id="findRepliesByReviewId" resultType="com.kedu.dto.RepliesDTO">
        SELECT reply_id, review_id, user_id, reply_text, created_at
        FROM replies
        WHERE review_id = #{reviewId}
        ORDER BY created_at ASC
    </select>

</mapper>